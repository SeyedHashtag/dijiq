### ğŸš‘ **[2.4.4] â€“ Traffic System Hotfix & Stability Improvements**

*Released: 2025-11-06*

#### ğŸ **Bug Fixes**

* Fixed incorrect user online status caused by outdated `online_count` logic.
* Synchronized database state with live Hysteria2 API data for accurate user tracking.
* Prevented false offline/online display in the web panel and Telegram bot.

#### ğŸ§  **Core Refactor**

* Rebuilt `traffic.py` into an object-oriented design using a new `TrafficManager` class.
* Improved modularity and maintainability with clear separation for:

  * API interaction
  * Database updates
  * Traffic calculation
  * Expired user handling

#### ğŸ§© **Compatibility & Reliability**

* Reintroduced stable public methods (`traffic_status()` & `kick_expired_users()`) for CLI and API use.
* Replaced scattered print statements with structured logging.
* Added constants for better maintainability and consistency.
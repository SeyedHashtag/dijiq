# ğŸ“¦ ** Release 2.5.0 â€” ACL & WARP fixes, safer password generation, service controls ğŸš€**

*Released: 2025-12-19*

## âœ¨ New Features

### ğŸ§  **Core & Service Management**

* ğŸ” Added **Hysteria2 core version detection** and validation
* ğŸ“Š Display **core version** directly in the web panel
* ğŸ” Added **Restart Hysteria2** button in the web UI with proper fetch handling
* ğŸ”Œ New API endpoint to **restart Hysteria2 service** programmatically

### ğŸŒ **Geo & ACL Rule Management**

* ğŸ—ºï¸ Enhanced **Geo file update process** with intelligent ACL rule handling
* ğŸ§© Added **geo rule detection & auto-update** for ACL configurations
* ğŸ§¹ Removed redundant `geoip` / `geosite` rejection rules
* ğŸš« Removed speedtest-related rejection from ACL rules

### ğŸ›¡ï¸ **Security & Password Handling**

* ğŸ” Replaced `pwgen` with **Python `secrets` module** for secure password generation
* ğŸ”‘ Improved password generation for:

  * add-user
  * bulk users
  * internal password utilities
* ğŸ§ª Removed implicit password auto-generation where not required

### ğŸ§° **CLI Improvements**

* ğŸ“¤ Added `run_cmd_and_stream` for **real-time command output streaming**
* âš™ï¸ Improved error messages during **Hysteria2 installation**
* ğŸ” Updated install scripts to return meaningful output messages
* ğŸ”’ Replaced `pwgen` with **openssl** for:

  * obfs password generation
  * normalsub path generation

### ğŸŒ **Network & IP Detection**

* ğŸŒ Added **ip.sb fallback** for public IP detection to improve reliability

---

## ğŸ› Fixes & Improvements

### ğŸ‘¤ **User & Username Handling**

* âœ… Allowed **underscores (`_`) in usernames**
* ğŸ§¼ Improved validation regex and error handling
* ğŸ”§ Updated `remove-user` command syntax
* ğŸ§  Improved user handler robustness

### ğŸ­ **Masquerade & OBFS**

* ğŸš« Prevented **OBFS usage when masquerade is enabled** to avoid conflicts

### ğŸ§¹ **Scheduler & System Stability**

* ğŸ”‡ Suppressed noisy `systemctl` output during scheduler setup
* ğŸ§¯ Improved rule-checking logic for WARP configuration status

### ğŸ§¼ **Uninstall & Cleanup**

* â™»ï¸ Improved WARP uninstall flow:

  * Better config loading & error handling
  * Automatic **ACL rule reset** after uninstall

---

## ğŸ“¦ Dependency Updates

* â¬†ï¸ **FastAPI** â†’ 0.124.4
* â¬†ï¸ **Certbot** â†’ 5.2.2
* â¬†ï¸ **python-multipart** â†’ 0.0.21


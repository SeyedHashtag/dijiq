"""
Translations module for multi-language support
"""

# Main translations dictionary
# Structure: 
# {
#   "message_key": {
#       "en": "English text",
#       "fa": "Persian text"
#   }
# }
TRANSLATIONS = {
    # Welcome messages
    "welcome": {
        "en": "Welcome to Dijiq VPN Bot! What would you like to do?",
        "fa": "Ø¨Ù‡ Ø±Ø¨Ø§Øª Dijiq VPN Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ú†Ù‡ Ú©Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯ØŸ"
    },
    
    # Main menu buttons
    "btn_my_configs": {
        "en": "ğŸ“± My Configs",
        "fa": "ğŸ“± Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù†"
    },
    "btn_test_config": {
        "en": "ğŸ Test Config",
        "fa": "ğŸ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ"
    },
    "btn_purchase_plan": {
        "en": "ğŸ’° Purchase Plan",
        "fa": "ğŸ’° Ø®Ø±ÛŒØ¯ Ù¾Ù„Ù†"
    },
    "btn_check_status": {
        "en": "ğŸ”„ Check Status",
        "fa": "ğŸ”„ Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª"
    },
    "btn_downloads": {
        "en": "â¬‡ï¸ Downloads",
        "fa": "â¬‡ï¸ Ø¯Ø§Ù†Ù„ÙˆØ¯Ù‡Ø§"
    },
    "btn_support": {
        "en": "ğŸ†˜ Support",
        "fa": "ğŸ†˜ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ"
    },
    "btn_language": {
        "en": "ğŸŒ Language",
        "fa": "ğŸŒ Ø²Ø¨Ø§Ù†"
    },
    
    # Admin buttons
    "btn_admin_panel": {
        "en": "âš™ï¸ Admin Panel",
        "fa": "âš™ï¸ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª"
    },
    "btn_add_user": {
        "en": "â• Add User",
        "fa": "â• Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø±"
    },
    "btn_edit_user": {
        "en": "âœï¸ Edit User",
        "fa": "âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ø§Ø±Ø¨Ø±"
    },
    "btn_delete_user": {
        "en": "ğŸ—‘ï¸ Delete User",
        "fa": "ğŸ—‘ï¸ Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±"
    },
    "btn_search_user": {
        "en": "ğŸ” Search User",
        "fa": "ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø±"
    },
    "btn_server_info": {
        "en": "ğŸ“Š Server Info",
        "fa": "ğŸ“Š Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ±"
    },
    "btn_payment_setup": {
        "en": "ğŸ’² Payment Setup",
        "fa": "ğŸ’² ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø±Ø¯Ø§Ø®Øª"
    },
    "btn_edit_plans": {
        "en": "ğŸ“ Edit Plans",
        "fa": "ğŸ“ ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ù„Ù†â€ŒÙ‡Ø§"
    },
    "btn_edit_support": {
        "en": "ğŸ“¢ Edit Support",
        "fa": "ğŸ“¢ ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ"
    },
    "btn_broadcast": {
        "en": "ğŸ“¢ Broadcast Message",
        "fa": "ğŸ“¢ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù‡Ù…Ú¯Ø§Ù†ÛŒ"
    },
    "btn_backup": {
        "en": "ğŸ’¾ Backup",
        "fa": "ğŸ’¾ Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ"
    },
    
    # Download section
    "download_title": {
        "en": "ğŸ“¥ Select your platform to download the VPN client:",
        "fa": "ğŸ“¥ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù„Ø§ÛŒÙ†Øª VPNØŒ Ù¾Ù„ØªÙØ±Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:"
    },
    "download_ios": {
        "en": "ğŸ“± iOS",
        "fa": "ğŸ“± Ø¢ÛŒâ€ŒØ§Ùˆâ€ŒØ§Ø³"
    },
    "download_android": {
        "en": "ğŸ“± Android",
        "fa": "ğŸ“± Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯"
    },
    "download_windows": {
        "en": "ğŸ’» Windows",
        "fa": "ğŸ’» ÙˆÛŒÙ†Ø¯ÙˆØ²"
    },
    
    # My configs section
    "no_configs": {
        "en": "âŒ You don't have any active configurations.\n\nPlease use the 'ğŸ Test Config' button to get a free test config or the 'ğŸ’° Purchase Plan' button to buy a subscription.",
        "fa": "âŒ Ø´Ù…Ø§ Ù‡ÛŒÚ† Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ÙØ¹Ø§Ù„ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯.\n\nÙ„Ø·ÙØ§Ù‹ Ø§Ø² Ø¯Ú©Ù…Ù‡ 'ğŸ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ' Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù† ÛŒØ§ Ø§Ø² Ø¯Ú©Ù…Ù‡ 'ğŸ’° Ø®Ø±ÛŒØ¯ Ù¾Ù„Ù†' Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø§Ø´ØªØ±Ø§Ú© Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯."
    },
    "select_config": {
        "en": "ğŸ“± Select a configuration to view:",
        "fa": "ğŸ“± ÛŒÚ© Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:"
    },
    "config_expired": {
        "en": "âŒ Your configuration has expired!",
        "fa": "âŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø´Ù…Ø§ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª!"
    },
    
    # Common actions
    "cancel": {
        "en": "âŒ Cancel",
        "fa": "âŒ Ù„ØºÙˆ"
    },
    "back": {
        "en": "â—€ï¸ Back",
        "fa": "â—€ï¸ Ø¨Ø§Ø²Ú¯Ø´Øª"
    },
    "error": {
        "en": "âš ï¸ Error: {message}",
        "fa": "âš ï¸ Ø®Ø·Ø§: {message}"
    },
    
    # Language selection
    "select_language": {
        "en": "Please select your language / Ù„Ø·ÙØ§ Ø²Ø¨Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯",
        "fa": "Please select your language / Ù„Ø·ÙØ§ Ø²Ø¨Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"
    },
    "language_set": {
        "en": "âœ… Language set to English!",
        "fa": "âœ… Ø²Ø¨Ø§Ù† Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ ØªØºÛŒÛŒØ± ÛŒØ§ÙØª!"
    }
}

def get_message(message_key, lang_code='en'):
    """
    Get a translated message for the specified language
    
    Args:
        message_key (str): The message key to look up
        lang_code (str): The language code (default: 'en')
        
    Returns:
        str: The translated message or English message if translation not found
    """
    if message_key not in TRANSLATIONS:
        return f"Missing translation: {message_key}"
    
    translations = TRANSLATIONS[message_key]
    
    # Return requested language or fall back to English if not available
    if lang_code in translations:
        return translations[lang_code]
    else:
        return translations.get('en', f"Missing {lang_code} translation for: {message_key}")
        
def get_formatted_message(message_key, lang_code='en', **kwargs):
    """
    Get a translated message with variable replacements
    
    Args:
        message_key (str): The message key to look up
        lang_code (str): The language code
        **kwargs: Variables to replace in the message
        
    Returns:
        str: The translated and formatted message
    """
    message = get_message(message_key, lang_code)
    try:
        return message.format(**kwargs)
    except KeyError as e:
        return f"{message} (Missing format variable: {str(e)})"
    except Exception:
        return message